import{l as lt}from"./entry.741170f4.js";(()=>{function t(...i){const r=i.length;for(let n=0;n<r;n++){const o=i[n];o.nodeType===1||o.nodeType===11?this.appendChild(o):this.appendChild(document.createTextNode(String(o)))}}function e(...i){for(;this.lastChild;)this.removeChild(this.lastChild);i.length&&this.append(...i)}function s(...i){const r=this.parentNode;let n=i.length;if(r)for(n||r.removeChild(this);n--;){let o=i[n];typeof o!="object"?o=this.ownerDocument.createTextNode(o):o.parentNode&&o.parentNode.removeChild(o),n?r.insertBefore(this.previousSibling,o):r.replaceChild(o,this)}}typeof Element<"u"&&(Element.prototype.append||(Element.prototype.append=t,DocumentFragment.prototype.append=t),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=e,DocumentFragment.prototype.replaceChildren=e),Element.prototype.replaceWith||(Element.prototype.replaceWith=s,DocumentFragment.prototype.replaceWith=s))})();function E(t,e){return Object.getOwnPropertyNames(Object(t)).reduce((s,i)=>{const r=Object.getOwnPropertyDescriptor(Object(t),i),n=Object.getOwnPropertyDescriptor(Object(e),i);return Object.defineProperty(s,i,n||r)},{})}function O(t){return typeof t=="string"}function B(t){return Array.isArray(t)}function L(t={}){const e=E(t);let s;return e.types!==void 0?s=e.types:e.split!==void 0&&(s=e.split),s!==void 0&&(e.types=(O(s)||B(s)?String(s):"").split(",").map(i=>String(i).trim()).filter(i=>/((line)|(word)|(char))/i.test(i))),(e.absolute||e.position)&&(e.absolute=e.absolute||/absolute/.test(t.position)),e}function V(t){const e=O(t)||B(t)?String(t):"";return{none:!e,lines:/line/i.test(e),words:/word/i.test(e),chars:/char/i.test(e)}}function z(t){return t!==null&&typeof t=="object"}function at(t){return z(t)&&/^(1|3|11)$/.test(t.nodeType)}function dt(t){return typeof t=="number"&&t>-1&&t%1===0}function ht(t){return z(t)&&dt(t.length)}function $(t){return B(t)?t:t==null?[]:ht(t)?Array.prototype.slice.call(t):[t]}function U(t){let e=t;return O(t)&&(/^(#[a-z]\w+)$/.test(t.trim())?e=document.getElementById(t.trim().slice(1)):e=document.querySelectorAll(t)),$(e).reduce((s,i)=>[...s,...$(i).filter(at)],[])}const{entries:pt,keys:Ft,values:Pt}=Object,R="_splittype",g={};let ft=0;function u(t,e,s){if(!z(t))return console.warn("[data.set] owner is not an object"),null;const i=t[R]||(t[R]=++ft),r=g[i]||(g[i]={});return s===void 0?e&&Object.getPrototypeOf(e)===Object.prototype&&(g[i]={...r,...e}):e!==void 0&&(r[e]=s),s}function S(t,e){const s=z(t)?t[R]:null,i=s&&g[s]||{};return e===void 0?i:i[e]}function k(t){const e=t&&t[R];e&&(delete t[e],delete g[e])}function ut(){pt(g).forEach(([t,{isRoot:e,isSplit:s}])=>{(!e||!s)&&(g[t]=null,delete g[t])})}function yt(t,e=" "){return(t?String(t):"").trim().replace(/\s+/g," ").split(e)}const H="\\ud800-\\udfff",X="\\u0300-\\u036f\\ufe20-\\ufe23",q="\\u20d0-\\u20f0",G="\\ufe0e\\ufe0f",wt=`[${H}]`,D=`[${X}${q}]`,F="\\ud83c[\\udffb-\\udfff]",gt=`(?:${D}|${F})`,J=`[^${H}]`,_="(?:\\ud83c[\\udde6-\\uddff]){2}",Z="[\\ud800-\\udbff][\\udc00-\\udfff]",K="\\u200d",Q=`${gt}?`,tt=`[${G}]?`,mt="(?:"+K+"(?:"+[J,_,Z].join("|")+")"+tt+Q+")*",bt=tt+Q+mt,Ct=`(?:${[`${J}${D}?`,D,_,Z,wt].join("|")}
)`,Et=RegExp(`${F}(?=${F})|${Ct}${bt}`,"g"),St=[K,H,X,q,G],$t=RegExp(`[${St.join("")}]`);function xt(t){return t.split("")}function et(t){return $t.test(t)}function Wt(t){return t.match(Et)||[]}function Tt(t){return et(t)?Wt(t):xt(t)}function At(t){return t==null?"":String(t)}function Ot(t,e=""){return t=At(t),t&&O(t)&&!e&&et(t)?Tt(t):t.split(e)}function P(t,e){const s=document.createElement(t);return e&&Object.keys(e).forEach(i=>{const r=e[i],n=O(r)?r.trim():r;n===null||n===""||(i==="children"?s.append(...$(n)):s.setAttribute(i,n))}),s}var I={splitClass:"",lineClass:"line",wordClass:"word",charClass:"char",types:["lines","words","chars"],absolute:!1,tagName:"div"};function jt(t,e){e=E(I,e);const s=V(e.types),i=e.tagName,r=t.nodeValue,n=document.createDocumentFragment();let o=[],l=[];return/^\s/.test(r)&&n.append(" "),o=yt(r).reduce((a,y,x,m)=>{let w,h;return s.chars&&(h=Ot(y).map(b=>{const f=P(i,{class:`${e.splitClass} ${e.charClass}`,style:"display: inline-block;",children:b});return u(f,"isChar",!0),l=[...l,f],f})),s.words||s.lines?(w=P(i,{class:`${e.wordClass} ${e.splitClass}`,style:`display: inline-block; ${s.words&&e.absolute?"position: relative;":""}`,children:s.chars?h:y}),u(w,{isWord:!0,isWordStart:!0,isWordEnd:!0}),n.appendChild(w)):h.forEach(b=>{n.appendChild(b)}),x<m.length-1&&n.append(" "),s.words?a.concat(w):a},[]),/\s$/.test(r)&&n.append(" "),t.replaceWith(n),{words:o,chars:l}}function st(t,e){const s=t.nodeType,i={words:[],chars:[]};if(!/(1|3|11)/.test(s))return i;if(s===3&&/\S/.test(t.nodeValue))return jt(t,e);const r=$(t.childNodes);if(r.length&&(u(t,"isSplit",!0),!S(t).isRoot)){t.style.display="inline-block",t.style.position="relative";const n=t.nextSibling,o=t.previousSibling,l=t.textContent||"",a=n?n.textContent:" ",y=o?o.textContent:" ";u(t,{isWordEnd:/\s$/.test(l)||/^\s/.test(a),isWordStart:/^\s/.test(l)||/\s$/.test(y)})}return r.reduce((n,o)=>{const{words:l,chars:a}=st(o,e);return{words:[...n.words,...l],chars:[...n.chars,...a]}},i)}function Nt(t,e,s,i){if(!s.absolute)return{top:e?t.offsetTop:null};const r=t.offsetParent,[n,o]=i;let l=0,a=0;if(r&&r!==document.body){const f=r.getBoundingClientRect();l=f.x+n,a=f.y+o}const{width:y,height:x,x:m,y:w}=t.getBoundingClientRect(),h=w+o-a,b=m+n-l;return{width:y,height:x,top:h,left:b}}function it(t){S(t).isWord?(k(t),t.replaceWith(...t.childNodes)):$(t.children).forEach(e=>it(e))}const Lt=()=>document.createDocumentFragment();function Rt(t,e,s){const i=V(e.types),r=e.tagName,n=t.getElementsByTagName("*"),o=[];let l=[],a=null,y,x,m,w=[];const h=t.parentElement,b=t.nextElementSibling,f=Lt(),v=window.getComputedStyle(t),nt=v.textAlign,rt=parseFloat(v.fontSize)*.2;return e.absolute&&(m={left:t.offsetLeft,top:t.offsetTop,width:t.offsetWidth},x=t.offsetWidth,y=t.offsetHeight,u(t,{cssWidth:t.style.width,cssHeight:t.style.height})),$(n).forEach(c=>{const d=c.parentElement===t,{width:p,height:W,top:C,left:A}=Nt(c,d,e,s);/^br$/i.test(c.nodeName)||(i.lines&&d&&((a===null||C-a>=rt)&&(a=C,o.push(l=[])),l.push(c)),e.absolute&&u(c,{top:C,left:A,width:p,height:W}))}),h&&h.removeChild(t),i.lines&&(w=o.map(c=>{const d=P(r,{class:`${e.splitClass} ${e.lineClass}`,style:`display: block; text-align: ${nt}; width: 100%;`});u(d,"isLine",!0);const p={height:0,top:1e4};return f.appendChild(d),c.forEach((W,C,A)=>{const{isWordEnd:j,top:N,height:ot}=S(W),ct=A[C+1];p.height=Math.max(p.height,ot),p.top=Math.min(p.top,N),d.appendChild(W),j&&S(ct).isWordStart&&d.append(" ")}),e.absolute&&u(d,{height:p.height,top:p.top}),d}),i.words||it(f),t.replaceChildren(f)),e.absolute&&(t.style.width=`${t.style.width||x}px`,t.style.height=`${y}px`,$(n).forEach(c=>{const{isLine:d,top:p,left:W,width:C,height:A}=S(c),j=S(c.parentElement),N=!d&&j.isLine;c.style.top=`${N?p-j.top:p}px`,c.style.left=d?`${m.left}px`:`${W-(N?m.left:0)}px`,c.style.height=`${A}px`,c.style.width=d?`${m.width}px`:`${C}px`,c.style.position="absolute"})),h&&(b?h.insertBefore(t,b):h.appendChild(t)),w}let T=E(I,{});class M{static get data(){return g}static get defaults(){return T}static set defaults(e){T=E(T,L(e))}static setDefaults(e){return T=E(T,L(e)),I}static revert(e){U(e).forEach(s=>{const{isSplit:i,html:r,cssWidth:n,cssHeight:o}=S(s);i&&(s.innerHTML=r,s.style.width=n||"",s.style.height=o||"",k(s))})}static create(e,s){return new M(e,s)}constructor(e,s){this.isSplit=!1,this.settings=E(T,L(s)),this.elements=U(e),this.split()}split(e){this.revert(),this.elements.forEach(r=>{u(r,"html",r.innerHTML)}),this.lines=[],this.words=[],this.chars=[];const s=[window.pageXOffset,window.pageYOffset];e!==void 0&&(this.settings=E(this.settings,L(e)));const i=V(this.settings.types);i.none||(this.elements.forEach(r=>{u(r,"isRoot",!0);const{words:n,chars:o}=st(r,this.settings);this.words=[...this.words,...n],this.chars=[...this.chars,...o]}),this.elements.forEach(r=>{if(i.lines||this.settings.absolute){const n=Rt(r,this.settings,s);this.lines=[...this.lines,...n]}}),this.isSplit=!0,window.scrollTo(s[0],s[1]),ut())}revert(){this.isSplit&&(this.lines=null,this.words=null,this.chars=null,this.isSplit=!1),M.revert(this.elements)}}const Y=lt(),Mt=250;class Bt extends M{constructor(...e){super(...e),window&&window.addEventListener("resize",this.onResize.bind(this)),this.width=window.innerWidth}onResize(){Y.showUI&&Y.pageTransition&&this.isSplit&&this.width!==window.innerWidth&&(this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.split()},Mt),this.width=window.innerWidth)}kill(){window.removeEventListener("resize",this.onResize.bind(this))}}export{Bt as E,M as S};
