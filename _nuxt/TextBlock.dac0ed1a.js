import{h as H,ae as G,i as v,l as J,B as W,x as c,C as h,D as V,m as Z,H as _,p as s,o as O,c as A,w as z,d as C,a as ee,A as $,r as te,E as d}from"./entry.741170f4.js";import{_ as ne}from"./InView.86493ce9.js";import{E as D}from"./split-type.57c98042.js";import{B as ae}from"./constants.66f91b37.js";const le=e=>e._type==="span",ie={types:{span:"span",image:"img"},marks:{strong:"strong",em:"em",link:"a"},styles:{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",normal:"p",blockquote:"blockquote"},listItem:"li",container:"div"},se=["abbr","accesskey","accessKey","action","alt","autocomplete","autofocus","autoplay","charset","checked","cite","class","cols","colspan","command","content","datetime","default","disabled","download","draggable","dropzone","headers","height","hidden","href","hreflang","id","maxlength","minlength","muted","placeholder","preload","radiogroup","readonly","required","role","selected","src","srcdoc","srcset","tabindex","title","value","width","wrap"];function re(e,t){return e!=null&&e.listItem&&e._type!=="list"?t.listItem||"li":e!=null&&e._type?t.types[e._type]||t.marks[e._type]:void 0}function oe(e,t,n){const l=e.style&&t.styles[e.style],r=P(e,typeof l=="string");return!e.listItem&&e.style&&l?v(l,r,{default:n}):n==null?void 0:n()}function ue(e,t){return L(t,e,()=>(e.children||[]).map(n=>le(n)?b(n.text,n.marks,t,e.markDefs):L(t,n,()=>b(n.text,n.marks,t,e.markDefs))))}function b(e,[t,...n]=[],l,o=[]){if(!t)return e;const r=t in l.marks?{_type:t,_key:""}:o.find(u=>u._key===t);return L(l,r,()=>b(e,n,l,o))}function K(e,t){if(!t.listItem)return e.push(t),e;const n=e[e.length-1]||{};return n._type!=="list"||!n.children||t.level===1&&t.listItem!==n.listItem?(e.push({_type:"list",listItem:t.listItem,level:t.level,children:[t]}),e):t.level===n.level&&t.listItem===n.listItem?(n.children.push(t),e):(K(n.children,t),e)}function L(e,t,n){const l=re(t,e);if(!l)return n==null?void 0:n();if(!t)return;const o=typeof l=="string",r=P(t,o);return o?v(l,r,n==null?void 0:n()):v(l,r,{default:()=>n==null?void 0:n()})}function P(e,t){return Object.fromEntries(Object.entries(e).filter(([n])=>n!=="_type"&&n!=="markDefs").map(([n,l])=>n==="_key"?["key",l||null]:!t||se.includes(n)?[n,l]:[]))}function Q(e,t){return e.map(n=>oe(n,t,()=>ue(n,t)))}const fe=H({name:"SanityContent",props:{blocks:{type:Array,default:()=>[]},serializers:{type:Object,default:()=>({})}},setup(e){const t=G(e.serializers,ie);return t.types.list=t.types.list||ce(t),()=>{var n;return Q(((n=e.blocks)==null?void 0:n.reduce(K,[]))||[],t)}}}),ce=e=>H({name:"ListComponent",inheritAttrs:!1,props:{children:{type:Array,default:()=>[]},level:{type:Number,default:1}},setup(t){return()=>{var l;const n=((l=t.children[0])==null?void 0:l.listItem)==="number";return t.level>1?v(e.listItem||"li",[v(n?"ol":"ul",{},{default:()=>Q(t.children,e)})]):v(n?"ol":"ul",{},{default:()=>Q(t.children,e)})}}});const de=["innerHTML"],xe={__name:"TextBlock",props:{tag:{type:String,default:"p"},size:{type:String,default:"m"},color:{type:String,default:"grey"},text:{type:[String,Object],default:null},split:{type:Boolean,default:!1},animate:{type:Boolean,default:!1},animateIn:{type:Boolean,default:!1},inView:{type:Boolean,default:!1},animateRight:{type:Boolean,default:!0}},setup(e){var U;const t=e,n=J(),{showUI:l}=W(n),{pageTransition:o}=W(n),r=c(null),u=c(null),i=c(null),x=c(!1),g=c(null),w=c(null),m=c(!1),E=c(0);typeof t.text=="object"&&((U=t.text)==null?void 0:U[0]._type)==="block"&&(x.value=!0);const I=h(()=>x?"div":t.tag),S=h(()=>t.animateIn),R=h(()=>t.split&&t.animate),f=h(()=>E.value<ae.L?!0:t.animateRight);function k(){t.inView&&(f.value?X():Y())}function X(){var a;d.to(r.value.$refs.el,{x:0,duration:1.5,delay:.1,ease:"Quart.easeOut",onComplete:function(){m.value=!0}}),d.to((a=i.value)==null?void 0:a.lines,{x:0,autoAlpha:1,duration:1.5,delay:.1,ease:"Quart.easeOut"})}function Y(){var a;d.to(r.value.$refs.el,{y:0,duration:1.8,ease:"Quart.easeOut",onComplete:function(){m.value=!0}}),d.to((a=i.value)==null?void 0:a.lines,{y:0,autoAlpha:1,duration:1.8,ease:"Quart.easeOut"})}function B(){g.value=d.fromTo(i.value.lines,{autoAlpha:0},{autoAlpha:1,duration:i.value.lines.length,delay:.5,ease:"Quart.easeOut",onComplete:function(){m.value=!0}}),w.value=d.fromTo(i.value.lines,{x:160},{x:0,stagger:.2,duration:1.5,ease:"Quart.easeOut"})}function F(){g.value=d.fromTo(i.value.lines,{x:0},{x:-64,delay:.05,duration:1,ease:"Quart.easeOut",onComplete:function(){m.value=!1}}),w.value=d.fromTo(i.value.lines,{autoAlpha:1},{autoAlpha:0,duration:.3,ease:"Quart.easeOut"})}function j(a){a&&a.kill()}function M(){u.value.children.length>0?(i.value=new D(u.value.querySelectorAll("p"),{types:"lines"}),q()):(i.value=new D(u.value,{types:"lines"}),q())}function q(){var a,T;t.inView&&(f.value?(a=i.value)==null||a.lines.forEach((p,y)=>{p.style.transform=`translateX(${(y+1)*10}px)`}):(T=i.value)==null||T.lines.forEach((p,y)=>{p.style.transform=`translateY(${(y+1)*8}px)`}))}V(l,a=>{a&&S.value&&B()}),V(o,a=>{a&&R.value&&(M(),S.value&&B())}),V(S,a=>{!n.showUI||!t.animate||!n.pageTransition||i.value&&(j(g.value),j(w.value),a?B():F())});function N(a){E.value=window.innerWidth}return Z(()=>{E.value=window.innerWidth,window.addEventListener("resize",N),R.value&&!n.showUI&&M()}),_(()=>{var a;(a=i==null?void 0:i.value)==null||a.kill(),window.removeEventListener("resize",N)}),(a,T)=>{const p=fe,y=ne;return e.text&&s(x)?(O(),A(y,{key:0,ref_key:"parentEl",ref:r,tag:s(I),class:$(["text",{[`text--size-${e.size}`]:e.size,[`text--${e.color}`]:e.color,"text--animate-in-right":e.inView&&s(f),"text--animate-in-bottom":e.inView&&!s(f),"text--animate-home":!e.inView,"text--visible":s(m)}]),onEnter:k},{default:z(()=>[C("span",{ref_key:"textEl",ref:u},[ee(p,{blocks:e.text},null,8,["blocks"])],512)]),_:1},8,["tag","class"])):e.text&&!s(x)?(O(),A(y,{key:1,ref_key:"parentEl",ref:r,tag:s(I),class:$(["text",{[`text--size-${e.size}`]:e.size,[`text--${e.color}`]:e.color,"text--animate-in-right":e.inView&&s(f),"text--animate-in-bottom":e.inView&&!s(f),"text--animate-home":!e.inView,"text--visible":s(m)}]),onEnter:k},{default:z(()=>[C("span",{ref_key:"textEl",ref:u,innerHTML:e.text},null,8,de)]),_:1},8,["tag","class"])):(O(),A(y,{key:2,ref_key:"parentEl",ref:r,tag:s(I),class:$(["text",{[`text--size-${e.size}`]:e.size,[`text--${e.color}`]:e.color,"text--animate-in-right":e.inView&&s(f),"text--animate-in-bottom":e.inView&&!s(f),"text--animate-home":!e.inView,"text--visible":s(m)}]),onEnter:k},{default:z(()=>[C("span",{ref_key:"textEl",ref:u},[te(a.$slots,"default")],512)]),_:3},8,["tag","class"]))}}};export{xe as _};
