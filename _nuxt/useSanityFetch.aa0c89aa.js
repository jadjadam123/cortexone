import{ac as y,u as v,C as n,x as f,ad as h}from"./entry.741170f4.js";const d=y();function l(a){const{drafts:e,ids:o}=d;if(a&&typeof a=="object"){a._id&&o.includes(a._id)&&(a=e.find(s=>s._id===`drafts.${a._id}`));for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&(a[t]=l(a[t]))}return a}function w(a){const{drafts:e}=d;return e&&l(a),a}const S=async(a,e)=>{const o=v(),t=n(()=>"preview"in o.query),s=f(!1),r=f(null),u=h(),i=n(()=>t?w({data:r.value}).data:r.value);return await u.fetch(a,e).then(c=>{r.value=c}).catch(c=>{r.value=null,console.warn(c)}).finally(()=>{s.value=!0}),{data:i,fetched:s}};export{S as u};
